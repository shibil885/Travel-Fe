<div class="overflow-x-auto md:overflow-x-hidden">
    <table class="min-w-full table-auto w-full">
        <thead>
            <tr class="block sm:table-row">
                <th *ngFor="let column of columns"
                    class="px-4 py-2 text-left bg-gray-200 text-gray-700 font-semibold uppercase tracking-wider cursor-pointer hidden sm:table-cell">
                    {{ column.title }}
                </th>
            </tr>
        </thead>
        <tbody>
            <tr *ngFor="let item of data" class="block sm:table-row">
                <td *ngFor="let column of columns" class="block sm:table-cell px-4 py-2">
                    <ng-container
                        *ngIf="column.key === 'contact.phone' || column.key === 'contact.email'; else otherContent">
                        <ng-container *ngIf="column.key === 'contact.phone'">
                            {{ item['contact']?.['phone'] || 'N/A' }}
                        </ng-container>
                        <ng-container *ngIf="column.key === 'contact.email'">
                            {{ item['contact']?.['email'] || 'N/A' }}
                        </ng-container>
                    </ng-container>
                    <ng-template #otherContent>
                        <ng-container *ngIf="column.key === 'isVerified'">
                            <span [ngClass]="item['isVerified'] ? 'text-green-500' : 'text-red-500'">
                                {{ item['isVerified'] ? 'Verified' : 'Not Verified' }}
                            </span>
                        </ng-container>

                        <ng-container *ngIf="column.key === 'isActive'">
                            <div class="flex items-center">
                                <button
                                    class="px-4 py-2 rounded-lg shadow-md transition-transform duration-200 transform hover:scale-105 focus:outline-none"
                                    [ngClass]="item['isActive'] ? 'bg-red-500 text-white hover:bg-red-600' : 'bg-green-500 text-white hover:bg-green-600'"
                                    (click)="changeStatus(item)">
                                    <span *ngIf="item['isActive']">Block</span>
                                    <span *ngIf="!item['isActive']">Unblock</span>
                                </button>
                            </div>
                        </ng-container>

                        <ng-container *ngIf="column.key === 'isConfirmed'">
                            <button
                                class="ml-2 px-4 py-2 rounded-lg shadow-lg transition-transform duration-200 transform hover:scale-105 focus:outline-none"
                                [ngClass]="item['isConfirmed'] ? 'bg-red-500 text-white hover:bg-red-600' : 'bg-green-500 text-white hover:bg-green-600'"
                                (click)="confirmation(item)">
                                <span *ngIf="item['isConfirmed']">Declin</span>
                                <span *ngIf="!item['isConfirmed']">Confirm</span>
                            </button>
                        </ng-container>
                        <ng-container
                            *ngIf="column.key !== 'isVerified' && column.key !== 'isActive' && column.key !== 'contact.phone' && column.key !== 'contact.email' && column.key !== 'isConfirmed'">
                            {{ item[column.key] || 'N/A' }}
                        </ng-container>
                    </ng-template>
                </td>
            </tr>
        </tbody>
    </table>
</div>