<app-header-sidebar></app-header-sidebar>
<section>
  <div class="container mx-auto flex flex-col md:flex-row items-center justify-evenly px-4">
    <div class="md:w-1/2 text-center md:text-left lg:ms-24 mb-8 md:mb-0">
      <p class="text-red-500 font-semibold mb-3">BEST DESTINATIONS AROUND THE WORLD</p>
      <p class="text-blue-950 font-semibold text-4xl md:text-6xl lg:text-7xl leading-tight">Travel, enjoy</p>
      <p class="text-blue-950 font-semibold text-4xl md:text-6xl lg:text-7xl  leading-tight">and live a new</p>
      <p class="text-blue-950 font-semibold text-4xl md:text-6xl lg:text-7xl leading-tight">and full life</p>
      <div class="mt-5 text-gray-700">
        <p class="text-blue-800">Built Wicket longer admire do barton vanity itself do in it.</p>
        <p class="text-blue-800">Preferred to sportsmen it engrossed listening. Park gate</p>
        <p class="text-blue-800">sell they west hard for the.</p>
      </div>
      <button class="px-10 py-2 mt-5 bg-yellow-500 hover:bg-yellow-600 text-white font-semibold rounded-lg">
        Book
      </button>
    </div>
    <div class="md:w-1/2">
      <img src="assets/images/traveling.avif" alt="" class="rounded-full w-full md:w-4/5 lg:w-[500px] mx-auto">
    </div>
  </div>
</section>


<section class="travel-packages-container">
  <div class="top-rated-section">
    <div class="container mx-auto px-4">
      <div class="section-header text-center mb-12">
        <h2 class="text-sm uppercase tracking-wider text-blue-600 mb-3">
          Traveler's Choice
        </h2>
        <h3 class="text-4xl font-extrabold text-gray-800">
          Top Booked Packages
        </h3>
      </div>
      <div class="top-rated-grid grid grid-cols-1 md:grid-cols-3 gap-8">
        <div *ngFor="let package of topBookedPackages" class="top-rated-card group">
          <div class="card-content">
            <div class="image-container relative">
              <img [src]="package.images[0]" [alt]="package.name" class="w-full h-64 object-cover rounded-t-2xl" />
              <ng-container *ngIf="package.ratingAndReview.length; else noRatingOffer">
                <div class="rating-badge absolute top-4 right-4">
                  <span class="flex items-center bg-white text-yellow-500 px-3 py-1 rounded-full">
                    <i class="fas fa-star mr-2"></i>
                    {{ package.ratingAndReview[0].averageRating }}/5.00
                  </span>
                </div>
              </ng-container>
              <ng-template #noRatingOffer>
                <div class="rating-badge absolute top-4 right-4">
                  <span class="flex items-center bg-white text-yellow-500 px-3 py-1 rounded-full">
                    <i class="fas fa-star mr-2"></i>
                    0/5
                  </span>
                </div>
              </ng-template>
            </div>
            <div class="package-details p-6">
              <h4 class="text-xl font-bold text-gray-800 mb-2">
                {{ package.name }}
              </h4>
              <div class="package-meta flex justify-between items-center mb-4">
                <div class="location flex items-center text-gray-600">
                  <i class="fas fa-map-marker-alt mr-2"></i>
                  <span>{{ package.country }}</span>
                </div>
                <div class="duration text-gray-600">
                  <i class="fas fa-clock mr-2"></i>
                  {{ package.days }} Days
                </div>
              </div>
              <p class="text-green-500 mb-4 line-clamp-2 text-center font-bold text-xl">
                {{package.bookings.length}} (bookings)
              </p>
              <div class="package-footer flex justify-between items-center">
                <div class="price text-2xl font-bold text-blue-600">
                  {{ package.price |currency:"INR" }}
                </div>
                <button class="btn-book bg-rose-500 text-white px-4 py-2 hover:bg-rose-600 transition">
                  Book Now
                </button>
              </div>
            </div>
          </div>
        </div>
      </div>
    </div>
  </div>


  <section class="travel-packages-container">
    <div class="packages-header">
      <div class="header-content">
        <h2 class="subtitle">Discover Amazing Journeys</h2>
        <h1 class="main-title">Our Offered Packages </h1>
      </div>
    </div>
    <div class="packages-grid">
      <div *ngFor="let package of offerPackages" class="package-card group">
        <div class="package-image-container">
          <img [src]="package.images[0]" [alt]="package.name" class="package-image" />
          <div class="discount-badge">
            {{getOfferPrice(package.offerId)}}
          </div>
          <div class="package-overlay">
            <div class="overlay-content">
              <div class="overlay-stats">
                <div class="stat">
                  <i class="fas fa-calendar"></i>
                  <span>{{ package.days }} Days</span>
                </div>
                <div class="stat">
                  <i class="fas fa-map-marker-alt"></i>
                  <span>{{ package.country }}</span>
                </div>
              </div>
              <button class="explore-button">
                Explore Journey
                <i class="fas fa-arrow-right ml-2"></i>
              </button>
            </div>
          </div>
        </div>
        <div class="package-details">
          <h3 class="package-title">{{ package.name }}</h3>
          <p class="package-description">{{ package.description }}</p>
          <div class="package-footer">
            <div class="price-container">
              <span class="current-price">{{ getCurrentPrice(package.price, package.offerId) }}</span>
              <span class="original-price" *ngIf="package.price">
                ${{ package.price }}
              </span>
            </div>
            <ng-container *ngIf="package.ratingAndReview.length; else noRatingTopBooked">
              <div class="rating">
                <i class="fas fa-star text-yellow-400"></i>
                <span>{{ package.ratingAndReview[0].averageRating || 'Not Rated' }}</span>
              </div>
            </ng-container>
            <ng-template #noRatingTopBooked>
              <div class="rating">
                <i class="fas fa-star text-yellow-400"></i>
                <span>Not Rated</span>
              </div>
            </ng-template>
          </div>
        </div>
      </div>
    </div>
  </section>
</section>