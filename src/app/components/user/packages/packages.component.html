<main>
    <div class="min-h-screen bg-gray-100">
        <app-header-sidebar></app-header-sidebar>
        <header class="bg-cover bg-center h-96 flex items-center justify-center"
            style="background-image: url('https://images.unsplash.com/photo-1469854523086-cc02fe5d8800?ixlib=rb-4.0.3&ixid=M3wxMjA3fDB8MHxwaG90by1wYWdlfHx8fGVufDB8fHx8fA%3D%3D&auto=format&fit=crop&w=2070&q=80')">
            <div class="text-center text-white">
                <h1 class="text-4xl md:text-6xl font-bold mb-4 animate-fade-in-down">Discover Your Next Adventure</h1>
                <p class="text-xl md:text-2xl mb-8 animate-fade-in-up">Explore the world with our curated travel
                    packages
                </p>
            </div>
        </header>
        <section class="p-8 -mt-16">
            <div class="max-w-6xl mx-auto bg-white rounded-lg shadow-lg p-6 animate-fade-in">
                <h2 class="text-2xl font-bold text-gray-800 mb-6">Refine Your Search</h2>
                <div class="grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-6">
                    <div>
                        <label class="block text-sm font-medium text-gray-700 mb-2" for="category">Category</label>
                        <select id="category"
                            class="block w-full bg-white border border-gray-300 rounded-md py-2 px-3 focus:outline-none focus:ring-orange-500 focus:border-orange-500">
                            <option value="all">All Packages</option>
                            <option value="adventure">Adventure</option>
                            <option value="beach">Beach</option>
                            <option value="cultural">Cultural</option>
                            <option value="urban">Urban Exploration</option>
                        </select>
                    </div>
                    <div>
                        <label class="block text-sm font-medium text-gray-700 mb-2" for="agencies">Agencies</label>
                        <select id="agencies"
                            class="block w-full bg-white border border-gray-300 rounded-md py-2 px-3 focus:outline-none focus:ring-orange-500 focus:border-orange-500">
                            <option value="all">All Agencies</option>
                            <option value="agency1">Wanderlust Tours</option>
                            <option value="agency2">Global Expeditions</option>
                            <option value="agency3">Luxury Escapes</option>
                        </select>
                    </div>
                    <div>
                        <label class="block text-sm font-medium text-gray-700 mb-2" for="days">Duration</label>
                        <select id="days"
                            class="block w-full bg-white border border-gray-300 rounded-md py-2 px-3 focus:outline-none focus:ring-orange-500 focus:border-orange-500">
                            <option *ngFor="let day of [].constructor(numberOfDays); let i = index" [value]="i + 1">
                                {{ i + 1 }} Day{{ i !== 0 ? 's' : '' }}
                            </option>
                        </select>
                    </div>
                    <div>
                        <label class="block text-sm font-medium text-gray-700 mb-2" for="person">Group Size</label>
                        <select id="person"
                            class="block w-full bg-white border border-gray-300 rounded-md py-2 px-3 focus:outline-none focus:ring-orange-500 focus:border-orange-500">
                            <option *ngFor="let person of [].constructor(numberOfPerson); let i = index"
                                [value]="i + 1">
                                {{ i + 1 }} Person{{ i !== 0 ? 's' : '' }}
                            </option>
                        </select>
                    </div>
                </div>
                <div class="mt-8 flex justify-between items-center">
                    <button
                        class="bg-gradient-to-r from-[#FF7D68] to-[#ff9670] text-white font-bold py-2 px-6 rounded-full transition duration-300 ease-in-out transform hover:scale-105">
                        Apply
                    </button>
                </div>
            </div>
            <!-- <div class="flex items-center">
            <svg xmlns="http://www.w3.org/2000/svg" class="h-5 w-5 text-gray-400 mr-2" fill="none"
                viewBox="0 0 24 24" stroke="currentColor">
                <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2"
                    d="M3 4h13M3 8h9m-9 4h6m4 0l4-4m0 0l4 4m-4-4v12" />
            </svg>
            <label class="text-sm font-medium text-gray-700 mr-2" for="sort">Sort By:</label>
            <select id="sort"
                class="w-40 bg-white border border-gray-300 rounded-md py-2 px-3 focus:outline-none focus:ring-orange-500 focus:border-orange-500">
                <option value="price">Price</option>
                <option value="name">Name</option>
                <option value="trending">Trending</option>
                <option value="new">New</option>
            </select>
        </div> -->
        </section>
    </div>

    <section class="bg-gray-100 min-h-screen py-16 px-4 sm:px-6 lg:px-44">
        <div class="max-w-7xl mx-auto">
            <h2 class="text-5xl font-extrabold text-indigo-900 mb-12 text-center">Discover Your Dream Getaway</h2>
            <div class="grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-3 xl:grid-cols-3 gap-10">
                @for (pkg of packages; track pkg._id) {
                <div class="bg-white rounded-b-3xl shadow-xl overflow-hidden hover:shadow-2xl" [@fadeIn]>
                    <div class="relative">
                        <img [src]="pkg.images[0]" [alt]="pkg.name" class="w-full h-56 object-cover">
                        <div
                            class="absolute top-0 left-0 m-4 px-3 py-1 bg-gradient-to-r from-[#FF7D68] to-[#feab8d] rounded-full text-xs font-semibold text-white shadow-md">
                            {{ pkg.category.name }}
                        </div>
                    </div>
                    <div class="p-6 bg-gradient-to-b from-[#EDE8F5] to-white rounded-b-3xl">
                        <h3 class="text-lg font-bold text-indigo-900 mb-2">{{ pkg.name }}</h3>
                        <p class="text-sm text-gray-600 mb-4 uppercase"><b>by {{ pkg.agencyId.name }}</b></p>
                        <div class="flex items-center mb-3">
                            <svg xmlns="http://www.w3.org/2000/svg" class="h-4 w-4 text-[#656262] mr-2"
                                viewBox="0 0 20 20" fill="currentColor">
                                <path fill-rule="evenodd"
                                    d="M5.05 4.05a7 7 0 119.9 9.9L10 18.9l-4.95-4.95a7 7 0 010-9.9zM10 11a2 2 0 100-4 2 2 0 000 4z"
                                    clip-rule="evenodd" />
                            </svg>
                            <p class="text-sm text-gray-600">{{ pkg.country }}</p>
                        </div>
                        <div class="flex items-center mb-4">
                            <div class="flex items-center">
                                @for (star of [1, 2, 3, 4, 5]; track star) {
                                <svg xmlns="http://www.w3.org/2000/svg" class="h-3 w-3 text-yellow-400"
                                    viewBox="0 0 20 20" fill="currentColor">
                                    <path
                                        d="M9.049 2.927c.3-.921 1.603-.921 1.902 0l1.07 3.292a1 1 0 00.95.69h3.462c.969 0 1.371 1.24.588 1.81l-2.8 2.034a1 1 0 00-.364 1.118l1.07 3.292c.3.921-.755 1.688-1.54 1.118l-2.8-2.034a1 1 0 00-1.175 0l-2.8 2.034c-.784.57-1.838-.197-1.539-1.118l1.07-3.292a1 1 0 00-.364-1.118L2.98 8.72c-.783-.57-.38-1.81.588-1.81h3.461a1 1 0 00.951-.69l1.07-3.292z" />
                                </svg>
                                }
                            </div>
                        </div>
                        <div class="flex justify-between items-center mb-4">
                            <div class="flex items-center text-sm text-gray-600">
                                <svg xmlns="http://www.w3.org/2000/svg" class="h-4 w-4 mr-2 text-[#656262]"
                                    viewBox="0 0 20 20" fill="currentColor">
                                    <path
                                        d="M9 6a3 3 0 11-6 0 3 3 0 016 0zM17 6a3 3 0 11-6 0 3 3 0 016 0zM12.93 17c.046-.327.07-.66.07-1a6.97 6.97 0 00-1.5-4.33A5 5 0 0119 16v1h-6.07zM6 11a5 5 0 015 5v1H1v-1a5 5 0 015-5z" />
                                </svg>
                                <span>{{ pkg.people }} people</span>
                                <svg xmlns="http://www.w3.org/2000/svg" class="h-4 w-4 ml-4 mr-2 text-[#656262]"
                                    viewBox="0 0 20 20" fill="currentColor">
                                    <path fill-rule="evenodd"
                                        d="M10 18a8 8 0 100-16 8 8 0 000 16zm1-12a1 1 0 10-2 0v4a1 1 0 00.293.707l2.828 2.829a1 1 0 101.415-1.415L11 9.586V6z"
                                        clip-rule="evenodd" />
                                </svg>
                                <span>{{ pkg.days }} days</span>
                            </div>
                        </div>
                        <div class="flex justify-between items-center">
                            <p class="text-lg font-bold text-black">{{ pkg.price | currency:'INR' }}</p>
                            <div class="flex">
                                <button
                                    class="bg-[#FFF1DA]  text-[#656262] py-1 px-4 text-sm rounded-s-md font-bold hover:bg-[#ffdca4] transition duration-300 transform hover:scale-105 shadow-xl hover:shadow-2xl"
                                    (click)="bookPackage(pkg._id)">
                                    Book
                                </button>
                                <button
                                    class="bg-[#FF7D68]  text-white py-1 px-6 rounded-e-md font-bold hover:bg-[#e46954] transition duration-300 transform hover:scale-105 shadow-xl hover:shadow-2xl"
                                    (click)="showSinglePackage(pkg._id)">
                                    View
                                </button>
                            </div>
                        </div>
                    </div>
                </div>
                }
            </div>
            <app-pagination [currentPage]="currentPage" [itemsPerPage]="limit" [totalItems]="totalPackages"
                (pageChange)="onPageChange($event)" [typeOfUser]="'user'"></app-pagination>
        </div>
    </section>
</main>